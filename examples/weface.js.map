{"version":3,"sources":["weface.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","String","replaceAll","replacement","this","split","join","WECHAT_FACE_MAP","Map","ENTITY_MAP","ESCAPED_WECHAT_FACE_MAP","Array","from","map","entry","replace","s","get","Weface","options","arguments","undefined","faceMap","escaped","value","message","forEach","window"],"mappings":"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","file":"weface.js","sourcesContent":["(() => {\n  String.prototype.replaceAll = function(target, replacement) {\n    return this.split(target).join(replacement);\n  };\n\n  const WECHAT_FACE_MAP = new Map([\n    ['/::)', '1'],\n    ['/::~', '2'],\n    ['/::B', '3'],\n    ['/::|', '4'],\n    ['/:8-)', '5'],\n    ['/::<', '6'],\n    ['/::$', '7'],\n    ['/::X', '8'],\n    ['/::Z', '9'],\n    ['/::\\'(', '10'],\n    ['/::-|', '11'],\n    ['/::@', '12'],\n    ['/::P', '13'],\n    ['/::D', '14'],\n    ['/::O', '15'],\n    ['/::(', '16'],\n    ['/::+', '17'],\n    ['/:--b', '18'],\n    ['/::Q', '19'],\n    ['/::T', '20'],\n    ['/:,@P', '21'],\n    ['/:,@-D', '22'],\n    ['/::d', '23'],\n    ['/:,@o', '24'],\n    ['/::g', '25'],\n    ['/:|-)', '26'],\n    ['/::!', '27'],\n    ['/::L', '28'],\n    ['/::>', '29'],\n    ['/::,@', '30'],\n    ['/:,@f', '31'],\n    ['/::-S', '32'],\n    ['/:?', '33'],\n    ['/:,@x', '34'],\n    ['/:,@@', '35'],\n    ['/::8', '36'],\n    ['/:,@!', '37'],\n    ['/:!!!', '38'],\n    ['/:xx', '39'],\n    ['/:bye', '40'],\n    ['/:wipe', '41'],\n    ['/:dig', '42'],\n    ['/:handclap', '43'],\n    ['/:&-(', '44'],\n    ['/:B-)', '45'],\n    ['/:<@', '46'],\n    ['/:@>', '47'],\n    ['/::-O', '48'],\n    ['/:>-|', '49'],\n    ['/:P-(', '50'],\n    ['/::\\'|', '51'],\n    ['/:X-)', '52'],\n    ['/::*', '53'],\n    ['/:@x', '54'],\n    ['/:8*', '55'],\n    ['/:pd', '56'],\n    ['/:<W>', '57'],\n    ['/:beer', '58'],\n    ['/:basketb', '59'],\n    ['/:oo', '60'],\n    ['/:coffee', '61'],\n    ['/:eat', '62'],\n    ['/:pig', '63'],\n    ['/:rose', '64'],\n    ['/:fade', '65'],\n    ['/:showlove', '66'],\n    ['/:heart', '67'],\n    ['/:break', '68'],\n    ['/:cake', '69'],\n    ['/:li', '70'],\n    ['/:bome', '71'],\n    ['/:kn', '72'],\n    ['/:footb', '73'],\n    ['/:ladybug', '74'],\n    ['/:shit', '75'],\n    ['/:moon', '76'],\n    ['/:sun', '77'],\n    ['/:gift', '78'],\n    ['/:hug', '79'],\n    ['/:strong', '80'],\n    ['/:weak', '81'],\n    ['/:share', '82'],\n    ['/:v', '83'],\n    ['/:@)', '84'],\n    ['/:jj', '85'],\n    ['/:@@', '86'],\n    ['/:bad', '87'],\n    ['/:lvu', '88'],\n    ['/:no', '89'],\n    ['/:ok', '90'],\n    ['/:love', '91'],\n    ['/:<L>', '92'],\n    ['/:jump', '93'],\n    ['/:shake', '94'],\n    ['/:<O>', '95'],\n    ['/:circle', '96'],\n    ['/:kotow', '97'],\n    ['/:turn', '98'],\n    ['/:skip', '99'],\n    ['/:oY', '100'],\n    ['/:#-0', '101'],\n    ['/:hiphot', '102'],\n    ['/:kiss', '103'],\n    ['/:<&', '104'],\n    ['/:&>', '105'],\n  ]);\n\n  const ENTITY_MAP = new Map([\n    ['&', '&amp;'],\n    ['<', '&lt;'],\n    ['>', '&gt;']\n  ]);\n\n  const ESCAPED_WECHAT_FACE_MAP = new Map(Array.from(WECHAT_FACE_MAP).map((entry) => {\n    return [entry[0].replace(/[&<>]/g, s => ENTITY_MAP.get(s)), entry[1]];\n  }));\n\n  class Weface {\n    constructor(options = {}) {\n      this.faceMap = (options.escaped === true) ? ESCAPED_WECHAT_FACE_MAP : WECHAT_FACE_MAP;\n    }\n\n    compile(message) {\n      this.faceMap.forEach((value, key) => {\n        message = message.replaceAll(key,\n          `<div class=\"wechatface wechatface-${value}\"></div>`);\n      });\n\n      return message;\n    }\n  }\n  window.Weface = Weface;\n})();\n"]}